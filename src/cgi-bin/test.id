#!/usr/bin/mono /usr/lib/iodine/bin/iodine.exe  
use potassium.response;
use potassium.request;
use potassium.views;

func main () {
    view = views.View(getResponse);
    view.run();
}

func getResponse(self, params) {
    name = params.getParam("name");
    if (name != null) {
        return response.JSONResponse("{\"message\": \"Hello, " + name + "\"}",
                                     200);
    }
    else {
        return response.JSONResponse("{\"name\": \"This field is required\"}",
                                     400);
    }
}
