#!/usr/bin/mono /usr/lib/iodine/bin/iodine.exe
use potassium.response;
use potassium.request;

func main () {
    paramManager = potassium.request.RequestParameters(getEnv("QUERY_STRING"));
    name = paramManager.getParam("name");
    resp = null;
    if (name != null) {
        resp = potassium.response.JSONResponse("{\"message\": \"Hello, " + name + "\"}", 200);
    }
    else {
        resp = potassium.response.JSONResponse("{\"name\": \"This field is required\"}", 400);
    }
    print(resp.getResponse());
}

